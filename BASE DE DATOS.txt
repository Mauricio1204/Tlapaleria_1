CREATE DATABASE TLAPALERIA;

USE TLAPALERIA;

CREATE TABLE CARGO (
     no int(10) primary key,
     nombre varchar(25)) ENGINE=INNODB;

CREATE TABLE ALMACEN (
     NO INT(10) PRIMARY KEY,
     DIRECCION VARCHAR(80) NOT NULL) ENGINE=INNODB;

 CREATE TABLE FACTURA (
     NO INT(10) PRIMARY KEY) ENGINE=INNODB;

CREATE TABLE REMICION (
     NO INT(10) PRIMARY KEY) ENGINE=INNODB;

CREATE TABLE ORDEN (
     NO INT(10) PRIMARY KEY )ENGINE=INNODB;

CREATE TABLE REFERENCIA (
     NO INT (10) PRIMARY KEY) ENGINE=INNODB;

CREATE TABLE METODO_DE_PAGO (
     NO INT (10) PRIMARY KEY,
     NOMBRE VARCHAR(30) NOT NULL ) ENGINE=INNODB;

CREATE TABLE PROVEEDOR (
     NO INT (10) PRIMARY KEY,
     NOMBRE VARCHAR(35) NOT NULL,
     TEL INT (10) NOT NULL,
     EMAIL VARCHAR(33) NOT NULL) ENGINE=INNODB;

 CREATE TABLE USUEMPLEADO (
    NO INT(10) PRIMARY KEY,
    NOMBRE VARCHAR(35) NOT NULL,
    DIRECCION VARCHAR(50) NOT NULL,
    EMAIL VARCHAR(33) NOT NULL,
    TEL INT(10) NOT NULL,
    FECHAINGRESO DATE NOT NULL,
    FECHASALIDA DATE NOT NULL,
    CLABLEACCESO VARCHAR(40) NOT NUL,   
 NOCARGO INT(10) NOT NULL,
    CONSTRAINT 
    FOREIGN KEY (NOCARGO) 
    REFERENCES CARGO(NO)
    ON DELETE CASCADE ON UPDATE CASCADE  
    )ENGINE=INNODB;
	

  
CREATE TABLE ARTICULO(
  CLAVE INT(10) PRIMARY KEY,
  NOMART VARCHAR(35) NOT NULL,
  CASILLERO VARCHAR(7) NOT NULL,
  COSUNIT DOUBLE(5,3) NOT NULL,
  COSMED DOUBLE(5,3) NOT NULL,
  UNITMED VARCHAR(6) NOT NULL,
  NOPROVEEDOR INT(10) NOT NULL,
CONSTRAINT 
  FOREIGN KEY (NOPROVEEDOR) 
  REFERENCES PROVEEDOR(NO)
  ON DELETE CASCADE ON UPDATE CASCADE
  )ENGINE=INNODB;


CREATE TABLE PEDIDO(
  NO INT(10) PRIMARY KEY,
  NOMETPAGO INT(10) NOT NULL,  
  NOUS INT(10) NOT NULL,
 CONSTRAINT 
  FOREIGN KEY (NOMETPAGO) 
  REFERENCES METODO_DE_PAGO(NO)
  ON DELETE CASCADE ON UPDATE CASCADE,  
 CONSTRAINT 
  FOREIGN KEY (NOUS) 
  REFERENCES CLIENTE(NO)
  ON DELETE CASCADE ON UPDATE CASCADE
  )ENGINE=INNODB;

CREATE TABLE INVENTARIO(
  NOMOVI INT(11) PRIMARY KEY,
  FECHA DATE,
  MIN INT(10) NOT NULL,
  MAX INT(10) NOT NULL,
  FMOV DATE,
  ENTRADA INT(10) NOT NULL,
  SALIDA INT(10) NOT NULL,
  EXISTENCIA INT(10) NOT NULL,
  DEVE INT(10) NOT NULL,
  HABER INT(10) NOT NULL,
  NOARTICULO INT(10) NOT NULL, 
  NOALMACEN INT(10)NOT NULL,
  NOFACTURA INT(10),
  NOREMICION INT(10),
  NOORDEN INT(10),
  NOREFERENCIA INT(10),
CONSTRAINT 
  FOREIGN KEY (NOARTICULO) 
  REFERENCES ARTICULO(CLAVE)
  ON DELETE CASCADE ON UPDATE CASCADE,
CONSTRAINT 
  FOREIGN KEY (NOALMACEN) 
  REFERENCES ALMACEN(NO)
  ON DELETE CASCADE ON UPDATE CASCADE,
CONSTRAINT 
  FOREIGN KEY (NOFACTURA) 
  REFERENCES FACTURA(NO)
  ON DELETE CASCADE ON UPDATE CASCADE,
CONSTRAINT
  FOREIGN KEY (NOREMICION) 
  REFERENCES REMICION(NO)
  ON DELETE CASCADE ON UPDATE CASCADE,
CONSTRAINT 
  FOREIGN KEY (NOORDEN) 
  REFERENCES ORDEN(NO)
  ON DELETE CASCADE ON UPDATE CASCADE,
CONSTRAINT 
  FOREIGN KEY (NOREFERENCIA) 
  REFERENCES REFERENCIA(NO)
  ON DELETE CASCADE ON UPDATE CASCADE)ENGINE=INNODB;

  
INSERT INTO ALMACEN VALUES(1,'EL TRFICO');

INSERT INTO ALMACEN VALUES(2,'ATIZAPAN DE ZARAOZA');

INSERT INTO ALMACEN VALUES(3,'ISTAPALAPA');

INSERT INTO ALMACEN VALUES(4,'CUATITLAN');

INSERT INTO ALMACEN VALUES(5,'EL ROZARIO');


INSERT INTO ARTICULO VALUES(1,'PINSAS','A1','150','100','MM','1');

INSERT INTO ARTICULO VALUES(2,'SERRUCHO','A2','200','150','MM','2');

INSERT INTO ARTICULO VALUES(3,'PINSAS DE PRESION','A3','150','MM','250','3');

INSERT INTO ARTICULO VALUES(4,'JUEGO DE DESARMADORES','A4','200','MM','150','4');

INSERT INTO ARTICULO VALUES(5,'SERRUCHO','A5','200','150','MM','5');


INSERT INTO CARGO VALUES(1,'JEFE');

INSERT INTO CARGO VALUES(2,'EMPLEADO');


INSERT INTO CLIENTE VALUES(1,'MAURICIO','EL TRAFICO','MAU34@HOTMAIL.COM','55390812','123','1');  

INSERT INTO CLIENTE VALUES(2,'JUANITO','EL TANKE','JUAN34@HOTMAIL.COM','55390812','123','2');

INSERT INTO CLIENTE VALUES(3,'FRANSISCO','ATIZAPAN DE ZARAGOZA','FRANSIS@HOTMAIL.COM','554422336','123','1');

INSERT INTO CLIENTE VALUES(4,'LEONOR','TLANE','LEONOR45@HOTMAIL.COM','54398515','123','1');

INSERT INTO CLIENTE VALUES(5,'JESUS','TLANE','CHUCH@HOTMAIL.COM','54398744','123','1');


INSERT INTO FACTURA VALUES(1);

INSERT INTO FACTURA VALUES(2);

INSERT INTO FACTURA VALUES(3);

INSERT INTO FACTURA VALUES(4);

INSERT INTO FACTURA VALUES(5);


INSERT INTO ORDEN VALUES(1);

INSERT INTO ORDEN VALUES(2);

INSERT INTO ORDEN VALUES(3);

INSERT INTO ORDEN VALUES(4);

INSERT INTO ORDEN VALUES(5);


INSERT INTO REFERENCIA VALUES(1);

INSERT INTO REFERENCIA VALUES(2);

INSERT INTO REFERENCIA VALUES(3);

INSERT INTO REFERENCIA VALUES(4);

INSERT INTO REFERENCIA VALUES(5);


INSERT INTO REMICION VALUES(1);

INSERT INTO REMICION VALUES(2);

INSERT INTO REMICION VALUES(3);

INSERT INTO REMICION VALUES(4);

INSERT INTO REMICION VALUES(5);


INSERT INTO METODO_DE_PAGO  VALUES(1,'TARGETA');

INSERT INTO METODO_DE_PAGO  VALUES(2,'EFECTIVO');

INSERT INTO METODO_DE_PAGO  VALUES(3,'CHEQUE');

INSERT INTO METODO_DE_PAGO  VALUES(4,'QR');

INSERT INTO METODO_DE_PAGO  VALUES(5,'DEPOCITO');


INSERT INTO PROVEEDOR VALUES(1,'BRENADON','548796321','BREAN@GMAIL.COM');

INSERT INTO PROVEEDOR VALUES(2,'BRENDA','548714521','BREN@GMAIL.COM');

INSERT INTO PROVEEDOR VALUES(3,'HUGO','1245789632','HIGIN@HOTMISL.COM');

INSERT INTO PROVEEDOR VALUES(4,'JUANA','7896541236','JUAN@GMAIL.COM');

INSERT INTO PROVEEDOR VALUES(5,'RICARDO','1245789632','RICADO@HOTMAIL.COM');



INSERT INTO USUEMPLEADO VALUES (1, 'MIGEL','el trafico','MIGELITO12@GMAIL.COM','554488779','2020-07-01','2020-07-02','2','123');





















